.. Copyright 2021-2023 RnD Center "ELVEES", JSC
.. SPDX-License-Identifier: MIT

==========================
Secondary Bootloader (SBL)
==========================

-------
SBL-XIP
-------

SBL-XIP выполняется на RISC0 из QSPI0 в режиме XIP (загрузка напрямую из QSPI0).

SBL-XIP выполняет:

* копирование кода инициализации DDR из QSPI0 в SPRAM0;
* запуск кода инициализации DDR из SPRAM0 (инициализатор DDR должен вернуть управление SBL после
  завершения работы);
* копирование TF-A из QSPI0 в DDR;
* копирование TEE из QSPI0 в DDR (опционально);
* копирование U-Boot из QSPI0 в DDR;
* запуск TF-A на ARM CPU.

------
SBL-S1
------

BootROM последовательно загружает и передаёт управление на образы. Цепочка образов упаковывается
в проприетарный формат SBIMG.

SBL-S1 (stage 1) предназначен для начальной настройки микросхемы и должен выполняться первым
в цепочке загрузки.

.. note:: Полная цепочка загрузки посредством BootROM еще не реализована.

SBL-S1 выполняется на RISC0 из SPRAM0.
Может быть загружен c помощью BootROM или через JTAG.

SBL-S1 выполняет:

* настройку частот системного коммутатора;
* настройку регистров уровня TOP;
* настройку cлужебной подсистемы;
* настройку WDT0 с таймаутом 3с;

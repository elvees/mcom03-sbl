// SPDX-License-Identifier: MIT
// Copyright 2023 RnD Center "ELVEES", JSC

#ifndef MCOM03_H
#define MCOM03_H

#ifndef _LANGUAGE_ASSEMBLY

#define _Hz_  1U
#define _kHz_ (1000U * _Hz_)
#define _MHz_ (1000U * _kHz_)

#define MCOM03_XTI_CLK_HZ (27U * _MHz_)

#define UART_CLK_HZ MCOM03_XTI_CLK_HZ

#endif // _LANGUAGE_ASSEMBLY

/* Service Subs */
#define BASE_ADDR_SERVICE_URB       0xbf000000
#define BASE_ADDR_SERVICE_UCG1      0xbf020000
#define BASE_ADDR_SERVICE_OTP       0xbf030000
#define BASE_ADDR_SERVICE_SPI_OTP   0xbf040000
#define BASE_ADDR_SERVICE_PVT_CTR   0xbf050000
#define BASE_ADDR_SERVICE_RTC       0xbf060000
#define BASE_ADDR_SERVICE_TRNG      0xbf070000
#define BASE_ADDR_SERVICE_WDT0      0xbf080000
#define BASE_ADDR_SERVICE_I2C4      0xbf090000
#define BASE_ADDR_SERVICE_MFBSP0    0xbf0a1300
#define BASE_ADDR_SERVICE_MFBSP1    0xbf0b1300
#define BASE_ADDR_SERVICE_CRAM      0xbfa00000
#define BASE_ADDR_SERVICE_IOMMU     0xBFD04000
#define BASE_ADDR_RISC0_CSR         0xbfd08000
#define BASE_ADDR_SERVICE_QLIC0     0xbfe00000
#define BASE_ADDR_SERVICE_QSPI0     0xbff00000
#define BASE_ADDR_SERVICE_QSPI0_XIP 0x00000000
#define BASE_ADDR_SERVICE_MAILBOX0  0xbefd0000

/* Service Subs TOP Clk Gate*/
#define SERV_URB_TOP_CLKGATE                  0xBF001008
#define SERVICE_TOP_CLK_GATE_SERVICE          BIT(0)
#define SERVICE_TOP_CLK_GATE_MEDIA            BIT(1)
#define SERVICE_TOP_CLK_GATE_CPU              BIT(2)
#define SERVICE_TOP_CLK_GATE_SDR              BIT(3)
#define SERVICE_TOP_CLK_GATE_HSPERIPH         BIT(4)
#define SERVICE_TOP_CLK_GATE_LSPERIPH0        BIT(5)
#define SERVICE_TOP_CLK_GATE_LSPERIPH1        BIT(6)
#define SERVICE_TOP_CLK_GATE_DDR              BIT(7)
#define SERVICE_TOP_CLK_GATE_TOP_INTERCONNECT BIT(8)

/* Service Subs Power Domain State For Other Subsystem */
#define SERVICE_PPOLICY_PP_OFF      0x01
#define SERVICE_PPOLICY_PP_WARM_RST 0x08
#define SERVICE_PPOLICY_PP_ON       0x10

/* Service Subs Debug Status*/
#define SERVICE_DBG_RISC0_DISABLE 0
#define SERVICE_DBG_RISC0_ENABLE  1

#define SERVICE_DBG_SDR_DISABLE  0
#define SERVICE_DBG_RISC1_ENABLE 1
#define SERVICE_DBG_DSP0_ENABLE  2
#define SERVICE_DBG_DSP1_ENABLE  4
#define SERVICE_DBG_ALL_ENABLE   GENMASK(2, 0)

#define SERVICE_DBG_CPU_SP_DISABLE     0
#define SERVICE_DBG_CPU_SPINDEN_ENABLE 1
#define SERVICE_DBG_CPU_SPIDENENABLE   2
#define SERVICE_DBG_CPU_SP_ALL_ENABLE  GENMASK(1, 0)

#define SERVICE_DBG_CPU_S_DISABLE      0
#define SERVICE_DBG_CPU_NIDEN_ENABLE   1
#define SERVICE_DBG_CPU_DBGEN_ENABLE   2
#define SERVICE_DBG_CPU_SUNIDEN_ENABLE 4
#define SERVICE_DBG_CPU_S_ALL_ENABLE   GENMASK(2, 0)

#define SERVICE_DBG_UST_DISABLE           0x00
#define SERVICE_DBG_UST_DDR_ENABLE        0x01
#define SERVICE_DBG_UST_SDR_DISABLE       0x02
#define SERVICE_DBG_UST_BPAM_RISC0_ENABLE 0x04
#define SERVICE_DBG_UST_BPAM_CPU_DISABLE  0x08
#define SERVICE_DBG_UST_ACOM_ENABLE       0x10
#define SERVICE_DBG_UST_USB_JTAG_ENABLE   0x20
#define SERVICE_DBG_UST_DMA_SMB_ENABLE    0x40
#define SERVICE_DBG_UST_VIRT_CONS_ENABLE  0x80
#define SERVICE_DBG_UST_ALL_ENABLE        GENMASK(7, 0)

/* SDR */
#define BASE_ADDR_SDR_UCG0          0xa1900000
#define BASE_ADDR_SDR_UCG_PCIE0_REF 0xa1908000
#define BASE_ADDR_SDR_URB           0xa1910000
#define BASE_ADDR_SDR_RISC1_CSR     0xa1928000
#define BASE_ADDR_SDR_TIMERS        0xa1938000
#define BASE_ADDR_SDR_QLIC          0xa1940000
#define BASE_ADDR_SDR_UCG_PCIE1_REF 0xa1c00000
#define BASE_ADDR_SDR_UCG2          0xa1c08000
#define BASE_ADDR_SDR_SPINLOCK      0xa1c20000
#define BASE_ADDR_SDR_MAILBOX1      0xa1e00000

/* HS Periph */
#define BASE_ADDR_HS_USB0      0xb0000000
#define BASE_ADDR_HS_USB1      0xb0100000
#define BASE_ADDR_HS_EMAC0     0xb0200000
#define BASE_ADDR_HS_EMAC1     0xb0210000
#define BASE_ADDR_HS_SDMMC0    0xb0220000
#define BASE_ADDR_HS_SDMMC1    0xb0230000
#define BASE_ADDR_HS_NAND      0xb0240000
#define BASE_ADDR_HS_PDMA      0xb0250000
#define BASE_ADDR_HS_QSPI1     0xb0260000
#define BASE_ADDR_HS_URB       0xb0400000
#define BASE_ADDR_HS_UCG0      0xb0410000
#define BASE_ADDR_HS_UCG1      0xb0420000
#define BASE_ADDR_HS_UCG2      0xb0430000
#define BASE_ADDR_HS_UCG3      0xb0440000
#define BASE_ADDR_HS_QSPI1_XIP 0x10000000

/* CPU Subs */
#define BASE_ADDR_CPU_SUBS_URB            0xa1000000
#define BASE_ADDR_CPU_SUBS_UCG            0xa1080000
#define BASE_ADDR_CPU_SUBS_GIC500         0xa1100000
#define BASE_ADDR_CPU_SUBS_GIC500_REDISTR 0xa1180000

/* TOP */
#define BASE_ADDR_TOP_URB_BASE         0xa1800000
#define BASE_ADDR_TOP_UCG0_BASE        0xa1801000
#define TOP_UCG0_ALL_CH_MASK           GENMASK(7, 0)
#define TOP_UCG0_CHANNEL_DDR_DP        (1UL << 0)
#define TOP_UCG0_CHANNEL_DDR_VPU       (1UL << 1)
#define TOP_UCG0_CHANNEL_DDR_GPU       (1UL << 2)
#define TOP_UCG0_CHANNEL_DDR_ISP       (1UL << 3)
#define TOP_UCG0_CHANNEL_DDR_CPU       (1UL << 4)
#define TOP_UCG0_CHANNEL_CPU_ACP       (1UL << 5)
#define TOP_UCG0_CHANNEL_DDR_LSPERIPH0 (1UL << 6)
#define TOP_UCG0_CHANNEL_AXI_COH_COMM  (1UL << 7)

#define BASE_ADDR_TOP_UCG1_BASE        0xa1802000
#define TOP_UCG1_ALL_CH_MASK           0x1f5
#define TOP_UCG1_CHANNEL_AXI_SLOW_COMM (1UL << 0)
#define TOP_UCG1_CHANNEL_AXI_FAST_COMM (1UL << 2)
#define TOP_UCG1_CHANNEL_DDR_SDR_DSP   (1UL << 4)
#define TOP_UCG1_CHANNEL_DDR_SDR_PICE  (1UL << 5)
#define TOP_UCG1_CHANNEL_DDR_LSPERIPH1 (1UL << 6)
#define TOP_UCG1_CHANNEL_DDR_SERVICE   (1UL << 7)
#define TOP_UCG1_CHANNEL_DDR_HSPERIPH  (1UL << 8)

/* LSPeriph0 */
#define BASE_ADDR_LS0_PDMA0_BASE 0xa1600000
#define BASE_ADDR_LS0_GPIO0_BASE 0xa1610000
#define BASE_ADDR_LS0_SPI0_BASE  0xa1620000
#define BASE_ADDR_LS0_I2C0_BASE  0xa1630000
#define BASE_ADDR_LS0_UART1_BASE 0xa1640000
#define BASE_ADDR_LS0_UART2_BASE 0xa1650000
#define BASE_ADDR_LS0_UART3_BASE 0xa1660000
#define BASE_ADDR_LS0_URB_BASE   0xa1680000
#define BASE_ADDR_LS0_UCG2_BASE  0xa1690000

/* LSPeriph1 */
#define BASE_ADDR_LS1_PDMA1_BASE   0xa1700000
#define BASE_ADDR_LS1_I2C0_BASE    0xa1710000
#define BASE_ADDR_LS1_I2C1_BASE    0xa1720000
#define BASE_ADDR_LS1_I2C2_BASE    0xa1730000
#define BASE_ADDR_LS1_I2S0_BASE    0xa1740000
#define BASE_ADDR_LS1_UART0_BASE   0xa1750000
#define BASE_ADDR_LS1_SPI1_BASE    0xa1760000
#define BASE_ADDR_LS1_PWM_BASE     0xa1770000
#define BASE_ADDR_LS1_GPIO1_BASE   0xa1780000
#define BASE_ADDR_LS1_TIMERS_BASE  0xa1790000
#define BASE_ADDR_LS1_WDT1_BASE    0xa17a0000
#define BASE_ADDR_LS1_UCG_BASE     0xa17c0000
#define BASE_ADDR_LS1_I2S_UCG_BASE 0xa17d0000
#define BASE_ADDR_LS1_URB_BASE     0xa17e0000

/* DDR subs */
#define BASE_ADDR_DDR0_PHY_REG 0xa4000000
#define BASE_ADDR_DDR0_UMCTL2  0xa6000000

#define BASE_ADDR_DDR1_PHY_REG 0xa8000000
#define BASE_ADDR_DDR1_UMCTL2  0xaa000000

#define BASE_ADDR_DDR_SYS_URB  0xac000000
#define BASE_ADDR_DDR_SYS_UCG0 0xac010000
#define BASE_ADDR_DDR_SYS_UCG1 0xac020000

#define MC_R(a)          *(volatile unsigned *)(BASE_ADDR_RISC0_CSR + (a))
#define MC_CSR           MC_R(0)
#define MC_CSR_REG       BASE_ADDR_RISC0_CSR
#define MC_CSR_TR_CRAM   0x00000002
#define MC_CSR_TST_CACHE 0x00000800
#define MC_CSR_FLUSH_I   0x00001000
#define MC_CSR_FLUSH_D   0x00004000

/* CPU Subs UCG Channels */
#define CPU_SUBS_UCG_CHANNEL_CLK_CORE 1
#define CPU_SUBS_UCG_CHANNEL_CLK_DBUS 2
#define CPU_SUBS_UCG_CHANNEL_CLK_SYS  0

/* SERVICE UCG1 Channels */
#define SERVICE_UCG1_CHANNEL_CLK_APB       0
#define SERVICE_UCG1_CHANNEL_CLK_CORE      1
#define SERVICE_UCG1_CHANNEL_CLK_QSPI0     2
#define SERVICE_UCG1_CHANNEL_CLK_BPAM      3
#define SERVICE_UCG1_CHANNEL_CLK_RISC0     4
#define SERVICE_UCG1_CHANNEL_CLK_MFBSP0    5
#define SERVICE_UCG1_CHANNEL_CLK_MFBSP1    6
#define SERVICE_UCG1_CHANNEL_CLK_MAILBOX0  7
#define SERVICE_UCG1_CHANNEL_CLK_PVTCTR    8
#define SERVICE_UCG1_CHANNEL_CLK_I2C4      9
#define SERVICE_UCG1_CHANNEL_CLK_TRNG      10
#define SERVICE_UCG1_CHANNEL_CLK_SPIOTP    11
#define SERVICE_UCG1_CHANNEL_CLK_I2C4_EXT  12
#define SERVICE_UCG1_CHANNEL_CLK_QSPI0_EXT 13
#define SERVICE_UCG1_CHANNEL_CLKOUT_EXT    14
#define SERVICE_UCG1_CHANNEL_RISC0_TCK_UCG 15

/* SDR UCG0 Channels */
#define SDR_UCG0_CFG_CLK     0
#define SDR_UCG0_EXT_CLK     1
#define SDR_UCG0_INT_CLK     2
#define SDR_UCG0_PCI_CLK     3
#define SDR_UCG0_VCU_CLK     4
#define SDR_UCG0_ACC0_CLK    5
#define SDR_UCG0_ACC1_CLK    6
#define SDR_UCG0_ACC2_CLK    7
#define SDR_UCG0_AUX_PCI_CLK 8
#define SDR_UCG0_GNSS_CLK    9
#define SDR_UCG0_DFE_ALT_CLK 10
#define SDR_UCG0_VCU_TCLK    11
#define SDR_UCG0_LVDS_CLK    12

/* HS Periph UCG0-UCG3 Channels */
#define HS_UCG0_CHANNEL_CLK_SYS    0
#define HS_UCG0_CHANNEL_CLK_DMA    1
#define HS_UCG0_CHANNEL_CLK_CTR    2
#define HS_UCG0_CHANNEL_CLK_SPRAM0 3
#define HS_UCG0_CHANNEL_CLK_EMAC0  4
#define HS_UCG0_CHANNEL_CLK_EMAC1  5
#define HS_UCG0_CHANNEL_CLK_USB0   6
#define HS_UCG0_CHANNEL_CLK_USB1   7
#define HS_UCG0_CHANNEL_CLK_NFC    8
#define HS_UCG0_CHANNEL_CLK_PDMA2  9
#define HS_UCG0_CHANNEL_CLK_SDMMC0 10
#define HS_UCG0_CHANNEL_CLK_SDMMC1 11
#define HS_UCG0_CHANNEL_CLK_QSPI1  12

#define HS_UCG1_CHANNEL_XIN_CLK_SDMMC0 0
#define HS_UCG1_CHANNEL_XIN_CLK_SDMMC1 1
#define HS_UCG1_CHANNEL_CLK_NFC_FLASH  2
#define HS_UCG1_CHANNEL_EXT_CLK_QSPI   3
#define HS_UCG1_CHANNEL_CLK_DBG        4

#define HS_UCG2_CHANNEL_CLK_EMAC0_1588      0
#define HS_UCG2_CHANNEL_CLK_EMAC0_RGMII_TXC 1
#define HS_UCG2_CHANNEL_CLK_EMAC1_1588      2
#define HS_UCG2_CHANNEL_CLK_EMAC1_RGMII_TXC 3

#define HS_UCG3_CHANNEL_CLK_USB0_REF_ALT 0
#define HS_UCG3_CHANNEL_CLK_USB0_SUSPEND 1
#define HS_UCG3_CHANNEL_CLK_USB1_REF_ALT 2
#define HS_UCG3_CHANNEL_CLK_USB1_SUSPEND 3

/* LSPeriph0 UCG2 Channels */
#define LS0_UCG2_CLK_SYS   0
#define LS0_UCG2_CLK_UART3 1
#define LS0_UCG2_CLK_UART1 2
#define LS0_UCG2_CLK_UART2 3
#define LS0_UCG2_CLK_SSI0  4
#define LS0_UCG2_CLK_I2C0  5
#define LS0_UCG2_CLK_GPIO0 6

/* LSPeriph1 UCG Channels */
#define LS1_UCG_CLK_SYS      0
#define LS1_UCG_CLK_I2C0     1
#define LS1_UCG_CLK_I2C1     2
#define LS1_UCG_CLK_I2C2     3
#define LS1_UCG_CLK_GPIO1    4
#define LS1_UCG_CLK_SPI1     5
#define LS1_UCG_CLK_UART0    6
#define LS1_UCG_CLK_TIMERS   7
#define LS1_UCG_CLK_PWM      8
#define LS1_UCG_CLK_WDT1     9

/* LSPeriph1 I2S UCG Channels */
#define LS1_I2S_UCG_CLK_I2S0 0

#endif // MCOM03_H

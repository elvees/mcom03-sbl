// SPDX-License-Identifier: MIT
// Copyright 2023 RnD Center "ELVEES", JSC

#ifndef MCOM03_H
#define MCOM03_H

#ifndef _LANGUAGE_ASSEMBLY

#define _Hz_  (1U)
#define _kHz_ (1000U * _Hz_)
#define _MHz_ (1000U * _kHz_)

#define MCOM03_XTI_CLK_HZ (27U * _MHz_)

#define LS0_CLK_HZ  (MCOM03_XTI_CLK_HZ)
#define LS1_CLK_HZ  (MCOM03_XTI_CLK_HZ)
#define UART_CLK_HZ (MCOM03_XTI_CLK_HZ)

#endif // _LANGUAGE_ASSEMBLY

/* Service Subs */
#define BASE_ADDR_SERVICE_URB	    0xbf000000UL
#define BASE_ADDR_SERVICE_UCG1	    0xbf020000UL
#define BASE_ADDR_SERVICE_OTP	    0xbf030000UL
#define BASE_ADDR_SERVICE_SPI_OTP   0xbf040000UL
#define BASE_ADDR_SERVICE_PVT_CTR   0xbf050000UL
#define BASE_ADDR_SERVICE_RTC	    0xbf060000UL
#define BASE_ADDR_SERVICE_TRNG	    0xbf070000UL
#define BASE_ADDR_SERVICE_WDT0	    0xbf080000UL
#define BASE_ADDR_SERVICE_I2C4	    0xbf090000UL
#define BASE_ADDR_SERVICE_MFBSP0    0xbf0a1300UL
#define BASE_ADDR_SERVICE_MFBSP1    0xbf0b1300UL
#define BASE_ADDR_SERVICE_CRAM	    0xbfa00000UL
#define BASE_ADDR_SERVICE_IOMMU	    0xBFD04000UL
#define BASE_ADDR_RISC0_CSR	    0xbfd08000
#define BASE_ADDR_SERVICE_QLIC0	    0xbfe00000UL
#define BASE_ADDR_SERVICE_QSPI0	    0xbff00000UL
#define BASE_ADDR_SERVICE_QSPI0_XIP 0x00000000UL
#define BASE_ADDR_SERVICE_MAILBOX0  0xbefd0000UL

/* Service Subs TOP Clk Gate*/
#define SERV_URB_TOP_CLKGATE		      0xBF001008
#define SERVICE_TOP_CLK_GATE_SERVICE	      (1UL << 0)
#define SERVICE_TOP_CLK_GATE_MEDIA	      (1UL << 1)
#define SERVICE_TOP_CLK_GATE_CPU	      (1UL << 2)
#define SERVICE_TOP_CLK_GATE_SDR	      (1UL << 3)
#define SERVICE_TOP_CLK_GATE_HSPERIPH	      (1UL << 4)
#define SERVICE_TOP_CLK_GATE_LSPERIPH0	      (1UL << 5)
#define SERVICE_TOP_CLK_GATE_LSPERIPH1	      (1UL << 6)
#define SERVICE_TOP_CLK_GATE_DDR	      (1UL << 7)
#define SERVICE_TOP_CLK_GATE_TOP_INTERCONNECT (1UL << 8)

/* Service Subs Power Domain State For Other Subsystem */
#define SERVICE_PPOLICY_PP_OFF	    (0x01UL)
#define SERVICE_PPOLICY_PP_WARM_RST (0x08UL)
#define SERVICE_PPOLICY_PP_ON	    (0x10UL)

/* Service Subs Debug Status*/
#define SERVICE_DBG_RISC0_DISABLE (0x00UL)
#define SERVICE_DBG_RISC0_ENABLE  (0x01UL)

#define SERVICE_DBG_SDR_DISABLE	 (0x00UL)
#define SERVICE_DBG_RISC1_ENABLE (0x01UL)
#define SERVICE_DBG_DSP0_ENABLE	 (0x02UL)
#define SERVICE_DBG_DSP1_ENABLE	 (0x04UL)
#define SERVICE_DBG_ALL_ENABLE	 (0x07UL)

#define SERVICE_DBG_CPU_SP_DISABLE     (0x00UL)
#define SERVICE_DBG_CPU_SPINDEN_ENABLE (0x01UL)
#define SERVICE_DBG_CPU_SPIDENENABLE   (0x02UL)
#define SERVICE_DBG_CPU_SP_ALL_ENABLE  (0x03UL)

#define SERVICE_DBG_CPU_S_DISABLE      (0x00UL)
#define SERVICE_DBG_CPU_NIDEN_ENABLE   (0x01UL)
#define SERVICE_DBG_CPU_DBGEN_ENABLE   (0x02UL)
#define SERVICE_DBG_CPU_SUNIDEN_ENABLE (0x04UL)
#define SERVICE_DBG_CPU_S_ALL_ENABLE   (0x07UL)

#define SERVICE_DBG_UST_DISABLE		  (0x00UL)
#define SERVICE_DBG_UST_DDR_ENABLE	  (0x01UL)
#define SERVICE_DBG_UST_SDR_DISABLE	  (0x02UL)
#define SERVICE_DBG_UST_BPAM_RISC0_ENABLE (0x04UL)
#define SERVICE_DBG_UST_BPAM_CPU_DISABLE  (0x08UL)
#define SERVICE_DBG_UST_ACOM_ENABLE	  (0x10UL)
#define SERVICE_DBG_UST_USB_JTAG_ENABLE	  (0x20UL)
#define SERVICE_DBG_UST_DMA_SMB_ENABLE	  (0x40UL)
#define SERVICE_DBG_UST_VIRT_CONS_ENABLE  (0x80UL)
#define SERVICE_DBG_UST_ALL_ENABLE	  (0xFFUL)

/* SDR */
#define BASE_ADDR_SDR_UCG0	    0xa1900000UL
#define BASE_ADDR_SDR_UCG_PCIE0_REF 0xa1908000UL
#define BASE_ADDR_SDR_URB	    0xa1910000UL
#define BASE_ADDR_SDR_RISC1_CSR	    0xa1928000UL
#define BASE_ADDR_SDR_TIMERS	    0xa1938000UL
#define BASE_ADDR_SDR_QLIC	    0xa1940000UL
#define BASE_ADDR_SDR_UCG_PCIE1_REF 0xa1c00000UL
#define BASE_ADDR_SDR_UCG2	    0xa1c08000UL
#define BASE_ADDR_SDR_SPINLOCK	    0xa1c20000UL
#define BASE_ADDR_SDR_MAILBOX1	    0xa1e00000UL

/* HS Periph */
#define BASE_ADDR_HS_USB0      0xb0000000UL
#define BASE_ADDR_HS_USB1      0xb0100000UL
#define BASE_ADDR_HS_EMAC0     0xb0200000UL
#define BASE_ADDR_HS_EMAC1     0xb0210000UL
#define BASE_ADDR_HS_SDMMC0    0xb0220000UL
#define BASE_ADDR_HS_SDMMC1    0xb0230000UL
#define BASE_ADDR_HS_NAND      0xb0240000UL
#define BASE_ADDR_HS_PDMA      0xb0250000UL
#define BASE_ADDR_HS_QSPI1     0xb0260000UL
#define BASE_ADDR_HS_URB       0xb0400000UL
#define BASE_ADDR_HS_UCG0      0xb0410000UL
#define BASE_ADDR_HS_UCG1      0xb0420000UL
#define BASE_ADDR_HS_UCG2      0xb0430000UL
#define BASE_ADDR_HS_UCG3      0xb0440000UL
#define BASE_ADDR_HS_QSPI1_XIP 0x10000000UL

/* CPU Subs */
#define BASE_ADDR_CPU_SUBS_URB		  0xa1000000UL
#define BASE_ADDR_CPU_SUBS_UCG		  0xa1080000UL
#define BASE_ADDR_CPU_SUBS_GIC500	  0xa1100000UL
#define BASE_ADDR_CPU_SUBS_GIC500_REDISTR 0xa1180000UL

/* TOP */
#define BASE_ADDR_TOP_URB_BASE	       0xa1800000UL
#define BASE_ADDR_TOP_UCG0_BASE	       0xa1801000UL
#define TOP_UCG0_ALL_CH_MASK	       0xff
#define TOP_UCG0_CHANNEL_DDR_DP	       (1UL << 0)
#define TOP_UCG0_CHANNEL_DDR_VPU       (1UL << 1)
#define TOP_UCG0_CHANNEL_DDR_GPU       (1UL << 2)
#define TOP_UCG0_CHANNEL_DDR_ISP       (1UL << 3)
#define TOP_UCG0_CHANNEL_DDR_CPU       (1UL << 4)
#define TOP_UCG0_CHANNEL_CPU_ACP       (1UL << 5)
#define TOP_UCG0_CHANNEL_DDR_LSPERIPH0 (1UL << 6)
#define TOP_UCG0_CHANNEL_AXI_COH_COMM  (1UL << 7)

#define BASE_ADDR_TOP_UCG1_BASE	       0xa1802000UL
#define TOP_UCG1_ALL_CH_MASK	       0x1f5
#define TOP_UCG1_CHANNEL_AXI_SLOW_COMM (1UL << 0)
#define TOP_UCG1_CHANNEL_AXI_FAST_COMM (1UL << 2)
#define TOP_UCG1_CHANNEL_DDR_SDR_DSP   (1UL << 4)
#define TOP_UCG1_CHANNEL_DDR_SDR_PICE  (1UL << 5)
#define TOP_UCG1_CHANNEL_DDR_LSPERIPH1 (1UL << 6)
#define TOP_UCG1_CHANNEL_DDR_SERVICE   (1UL << 7)
#define TOP_UCG1_CHANNEL_DDR_HSPERIPH  (1UL << 8)

/* LSPeriph0 */
#define BASE_ADDR_LS0_PDMA0_BASE 0xa1600000UL
#define BASE_ADDR_LS0_GPIO0_BASE 0xa1610000UL
#define BASE_ADDR_LS0_SPI0_BASE	 0xa1620000UL
#define BASE_ADDR_LS0_I2C0_BASE	 0xa1630000UL
#define BASE_ADDR_LS0_UART1_BASE 0xa1640000UL
#define BASE_ADDR_LS0_UART2_BASE 0xa1650000UL
#define BASE_ADDR_LS0_UART3_BASE 0xa1660000UL
#define BASE_ADDR_LS0_URB_BASE	 0xa1680000UL
#define BASE_ADDR_LS0_UCG2_BASE	 0xa1690000UL

/* LSPeriph1 */
#define BASE_ADDR_LS1_PDMA1_BASE   0xa1700000UL
#define BASE_ADDR_LS1_I2C0_BASE	   0xa1710000UL
#define BASE_ADDR_LS1_I2C1_BASE	   0xa1720000UL
#define BASE_ADDR_LS1_I2C2_BASE	   0xa1730000UL
#define BASE_ADDR_LS1_I2S0_BASE	   0xa1740000UL
#define BASE_ADDR_LS1_UART0_BASE   0xa1750000UL
#define BASE_ADDR_LS1_SPI1_BASE	   0xa1760000UL
#define BASE_ADDR_LS1_PWM_BASE	   0xa1770000UL
#define BASE_ADDR_LS1_GPIO1_BASE   0xa1780000UL
#define BASE_ADDR_LS1_TIMERS_BASE  0xa1790000UL
#define BASE_ADDR_LS1_WDT1_BASE	   0xa17a0000UL
#define BASE_ADDR_LS1_UCG_BASE	   0xa17c0000UL
#define BASE_ADDR_LS1_I2S_UCG_BASE 0xa17d0000UL
#define BASE_ADDR_LS1_URB_BASE	   0xa17e0000UL

/* DDR subs */
#define BASE_ADDR_DDR0_PHY_REG 0xa4000000UL
#define BASE_ADDR_DDR0_UMCTL2  0xa6000000UL

#define BASE_ADDR_DDR1_PHY_REG 0xa8000000UL
#define BASE_ADDR_DDR1_UMCTL2  0xaa000000UL

#define BASE_ADDR_DDR_SYS_URB  0xac000000UL
#define BASE_ADDR_DDR_SYS_UCG0 0xac010000UL
#define BASE_ADDR_DDR_SYS_UCG1 0xac020000UL

#define MC_R(a)		 *(volatile unsigned *)(BASE_ADDR_RISC0_CSR + (a))
#define MC_CSR		 MC_R(0)
#define MC_CSR_REG	 BASE_ADDR_RISC0_CSR
#define MC_CSR_TR_CRAM	 0x00000002
#define MC_CSR_TST_CACHE 0x00000800
#define MC_CSR_FLUSH_I	 0x00001000
#define MC_CSR_FLUSH_D	 0x00004000

/* CPU Subs UCG Channels */
#define CPU_SUBS_UCG_CHANNEL_CLK_CORE 1
#define CPU_SUBS_UCG_CHANNEL_CLK_DBUS 2
#define CPU_SUBS_UCG_CHANNEL_CLK_SYS  0

/* SERVICE UCG1 Channels */
#define SERVICE_UCG1_CHANNEL_CLK_APB	   0
#define SERVICE_UCG1_CHANNEL_CLK_CORE	   1
#define SERVICE_UCG1_CHANNEL_CLK_QSPI0	   2
#define SERVICE_UCG1_CHANNEL_CLK_BPAM	   3
#define SERVICE_UCG1_CHANNEL_CLK_RISC0	   4
#define SERVICE_UCG1_CHANNEL_CLK_MFBSP0	   5
#define SERVICE_UCG1_CHANNEL_CLK_MFBSP1	   6
#define SERVICE_UCG1_CHANNEL_CLK_MAILBOX0  7
#define SERVICE_UCG1_CHANNEL_CLK_PVTCTR	   8
#define SERVICE_UCG1_CHANNEL_CLK_I2C4	   9
#define SERVICE_UCG1_CHANNEL_CLK_TRNG	   10
#define SERVICE_UCG1_CHANNEL_CLK_SPIOTP	   11
#define SERVICE_UCG1_CHANNEL_CLK_I2C4_EXT  12
#define SERVICE_UCG1_CHANNEL_CLK_QSPI0_EXT 13
#define SERVICE_UCG1_CHANNEL_CLKOUT_EXT	   14
#define SERVICE_UCG1_CHANNEL_RISC0_TCK_UCG 15

/* SDR UCG0 Channels */
#define SDR_UCG0_CFG_CLK     0
#define SDR_UCG0_EXT_CLK     1
#define SDR_UCG0_INT_CLK     2
#define SDR_UCG0_PCI_CLK     3
#define SDR_UCG0_VCU_CLK     4
#define SDR_UCG0_ACC0_CLK    5
#define SDR_UCG0_ACC1_CLK    6
#define SDR_UCG0_ACC2_CLK    7
#define SDR_UCG0_AUX_PCI_CLK 8
#define SDR_UCG0_GNSS_CLK    9
#define SDR_UCG0_DFE_ALT_CLK 10
#define SDR_UCG0_VCU_TCLK    11
#define SDR_UCG0_LVDS_CLK    12

/* HS Periph UCG0-UCG3 Channels */
#define HS_UCG0_CHANNEL_CLK_SYS	   0 /* < 500MHz */
#define HS_UCG0_CHANNEL_CLK_DMA	   1 /* < 500MHz */
#define HS_UCG0_CHANNEL_CLK_CTR	   2 /* < 100MHz */
#define HS_UCG0_CHANNEL_CLK_SPRAM0 3 /* < 500MHz */
#define HS_UCG0_CHANNEL_CLK_EMAC0  4 /* < 125MHz */
#define HS_UCG0_CHANNEL_CLK_EMAC1  5 /* < 125MHz */
#define HS_UCG0_CHANNEL_CLK_USB0   6 /* < 125MHz */
#define HS_UCG0_CHANNEL_CLK_USB1   7 /* < 125MHz */
#define HS_UCG0_CHANNEL_CLK_NFC	   8 /* < 200MHz */
#define HS_UCG0_CHANNEL_CLK_PDMA2  9 /* < 500MHz */
#define HS_UCG0_CHANNEL_CLK_SDMMC0 10 /* < 100MHz */
#define HS_UCG0_CHANNEL_CLK_SDMMC1 11 /* < 100MHz */
#define HS_UCG0_CHANNEL_CLK_QSPI1  12 /* < 100MHz */

#define HS_UCG1_CHANNEL_XIN_CLK_SDMMC0 0 /* 25 - 208MHz */
#define HS_UCG1_CHANNEL_XIN_CLK_SDMMC1 1 /* 25 - 208MHz */
#define HS_UCG1_CHANNEL_CLK_NFC_FLASH  2 /* 33 - 267MHz */
#define HS_UCG1_CHANNEL_EXT_CLK_QSPI   3 /* < 200MHz */
#define HS_UCG1_CHANNEL_CLK_DBG	       4 /* < 200MHz */

#define HS_UCG2_CHANNEL_CLK_EMAC0_1588	    0 /* < 125MHz */
#define HS_UCG2_CHANNEL_CLK_EMAC0_RGMII_TXC 1 /* 2.5 - 125MHz */
#define HS_UCG2_CHANNEL_CLK_EMAC1_1588	    2 /* < 125MHz */
#define HS_UCG2_CHANNEL_CLK_EMAC1_RGMII_TXC 3 /* 2.5 - 125MHz */

#define HS_UCG3_CHANNEL_CLK_USB0_REF_ALT 0 /* 19.2  - 100MHz */
#define HS_UCG3_CHANNEL_CLK_USB0_SUSPEND 1 /* 32kHz - 125MHz */
#define HS_UCG3_CHANNEL_CLK_USB1_REF_ALT 2 /* 19.2  - 100MHz */
#define HS_UCG3_CHANNEL_CLK_USB1_SUSPEND 3 /* 32kHz - 125MHz */

/* LSPeriph0 UCG2 Channels (pll = 7) */
#define LS0_UCG2_CLK_SYS   0 /* 191.8 Mhz, div = 1 */
#define LS0_UCG2_CLK_UART3 1 /* 14.75 Mhz, div = 13 */
#define LS0_UCG2_CLK_UART1 2 /* 14.75 Mhz, div = 13 */
#define LS0_UCG2_CLK_UART2 3 /* 14.75 Mhz, div = 13 */
#define LS0_UCG2_CLK_SSI0  4 /* 191.8 Mhz, div = 1 */
#define LS0_UCG2_CLK_I2C0  5 /* 191.8 Mhz, div = 1 */
#define LS0_UCG2_CLK_GPIO0 6 /* 1 Mhz, div = 191 */

/* LSPeriph1 UCG Channels (pll = 1178.2 MHz) */
#define LS1_UCG_CLK_SYS	     0 /* 98.18 MHz */
#define LS1_UCG_CLK_I2C0     1 /* 117.82 MHz */
#define LS1_UCG_CLK_I2C1     2 /* 117.82 MHz */
#define LS1_UCG_CLK_I2C2     3 /* 117.82 MHz */
#define LS1_UCG_CLK_GPIO1    4 /* 98.18 MHz */
#define LS1_UCG_CLK_SPI1     5 /* 196.4 MHz */
#define LS1_UCG_CLK_UART0    6 /* 14.728 MHz */
#define LS1_UCG_CLK_TIMERS   7 /* 98.18 MHz */
#define LS1_UCG_CLK_PWM	     8 /* 98.18 MHz */
#define LS1_UCG_CLK_WDT1     9 /* 98.18 MHz */
#define LS1_I2S_UCG_CLK_I2S0 0 /* 12.288 MHz */

#endif // MCOM03_H
